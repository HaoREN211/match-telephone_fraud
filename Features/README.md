# match-telephone_fraud

加工特征的主程序`rematch_features.py``

初始化RematchConfig对象

```python
# is_train=True:默认参数，加载训练数据集
# is_train=False:加载待预测数据集
self = RematchConfig(is_train=True)

# 加工特征
self.init_features()

# 获取特征加工完成之后的数据
self.data
```

注意init_features会加工所有的特征，耗时比较长。如果只想研究部分特征话，可以参考下面的表只执行self相关的函数，然后再做分析。

|列名|中文解释|config里对应的函数|与label的相关系数|
|:--|:--|:--|:--|
|voc_user_cnt|用户通话记录中对方号码个数|voc_user_cnt()|0.176|
|initiative_voc_user_cnt|主呼通话记录中对方号码个数|initiative_voc_user_cnt()|0.191|
|passive_voc_user_cnt|被呼通话记录中对方号码个数|passive_voc_user_cnt()|-0.166|
|turn_voc_user_cnt|呼转通话记录中对方号码个数|turn_voc_user_cnt()|-0.017|
|sms_user_cnt|用户短信记录中对方号码个数|sms_user_cnt()|0.04|
|initiative_sms_user_cnt|用户主动发送短信记录中对方号码个数|initiative_sms_user_cnt()|0.06|
|passive_sms_user_cnt|用户被动接收短信记录中对方号码个数|passive_sms_user_cnt()|-0.01|
|voc_user_call_cnt_max|与同一个人的最大通话次数|voc_user_call_cnt()|-0.24|
|voc_user_call_cnt_min|与同一个人的最小通话次数|voc_user_call_cnt()|-0.30|
|voc_user_call_cnt_median|与同一个人的通话次数中位数|voc_user_call_cnt()|-0.31|
|voc_user_call_cnt_mean|与同一个人的平均通话次数|voc_user_call_cnt()|-0.40|
|initiative_voc_user_call_cnt_max|与同一个人的最大主动通话次数|initiative_voc_user_call_cnt()|-0.24|
|initiative_voc_user_call_cnt_min|与同一个人的最小主动通话次数|initiative_voc_user_call_cnt()|-0.22|
|initiative_voc_user_call_cnt_median|与同一个人的主动通话次数中位数|initiative_voc_user_call_cnt()|-0.31|
|initiative_voc_user_call_cnt_mean|与同一个人的平均主动通话次数|initiative_voc_user_call_cnt()|-0.37|
|passive_voc_user_call_cnt_max|与同一个人的最大被动通话次数|passive_voc_user_call_cnt()|-0.20|
|passive_voc_user_call_cnt_min|与同一个人的最小被动通话次数|passive_voc_user_call_cnt()|-0.27|
|passive_voc_user_call_cnt_median|与同一个人的被动通话次数中位数|passive_voc_user_call_cnt()|-0.25|
|passive_voc_user_call_cnt_mean|与同一个人的平均被动通话次数|passive_voc_user_call_cnt()|-0.32|
|turn_voc_user_call_cnt_max|与同一个人的最大呼转通话次数|turn_voc_user_call_cnt()|-0.01|
|turn_voc_user_call_cnt_min|与同一个人的最小呼转通话次数|turn_voc_user_call_cnt()|-0.01|
|turn_voc_user_call_cnt_median|与同一个人的呼转通话次数中位数|turn_voc_user_call_cnt()|-0.01|
|turn_voc_user_call_cnt_mean|与同一个人的平均呼转通话次数|turn_voc_user_call_cnt()|-0.01|
|voc_inner_day_user_cnt_max|一天中有过通话记录的最大不同用户数|voc_inner_day_user_cnt()|0.28|
|voc_inner_day_user_cnt_min|一天中有过通话记录的最小不同用户数|voc_inner_day_user_cnt()|0.17|
|voc_inner_day_user_cnt_median|一天中有过通话记录的不同用户数中位数|voc_inner_day_user_cnt()|0.26|
|voc_inner_day_user_cnt_mean|一天中有过通话记录的平均不同用户数|voc_inner_day_user_cnt()|0.28|
|initiative_voc_inner_day_user_cnt_max|一天中有过主动通话记录的最大不同用户数|initiative_voc_inner_day_user_cnt()|0.29|
|initiative_voc_inner_day_user_cnt_min|一天中有过主动通话记录的最小不同用户数|initiative_voc_inner_day_user_cnt()|0.18|
|initiative_voc_inner_day_user_cnt_median|一天中有过主动通话记录的不同用户数中位数|initiative_voc_inner_day_user_cnt()|0.27|
|initiative_voc_inner_day_user_cnt_mean|一天中有过主动通话记录的平均不同用户数|initiative_voc_inner_day_user_cnt()|0.28|
|passive_voc_inner_day_user_cnt_max|一天中有过被动通话记录的最大不同用户数|passive_voc_inner_day_user_cnt()|-0.22|
|passive_voc_inner_day_user_cnt_min|一天中有过被动通话记录的最小不同用户数|passive_voc_inner_day_user_cnt()|-0.14|
|passive_voc_inner_day_user_cnt_median|一天中有过被动通话记录的不同用户数中位数|passive_voc_inner_day_user_cnt()|-0.14|
|passive_voc_inner_day_user_cnt_mean|一天中有过被动通话记录的平均不同用户数|passive_voc_inner_day_user_cnt()|-0.16|
|turn_voc_inner_day_user_cnt_max|一天中有过呼转通话记录的最大不同用户数|turn_voc_inner_day_user_cnt()|-0.02|
|turn_voc_inner_day_user_cnt_min|一天中有过呼转通话记录的最小不同用户数|turn_voc_inner_day_user_cnt()|-0.02|
|turn_voc_inner_day_user_cnt_median|一天中有过呼转通话记录的不同用户数中位数|turn_voc_inner_day_user_cnt()|-0.02|
|turn_voc_inner_day_user_cnt_mean|一天中有过呼转通话记录的平均不同用户数|turn_voc_inner_day_user_cnt()|-0.02|
|voc_inner_day_call_cnt_max|一天中通话记录条数最大数|voc_inner_day_call_cnt()|0.23|
|voc_inner_day_call_cnt_min|一天中通话记录条数最小数|voc_inner_day_call_cnt()|0.18|
|voc_inner_day_call_cnt_median|一天中通话记录条数中位数|voc_inner_day_call_cnt()|0.26|
|voc_inner_day_call_cnt_mean|一天中通话记录条数平均数|voc_inner_day_call_cnt()|0.27|
|initiative_voc_inner_day_call_cnt_max|一天中主动通话记录条数最大数|initiative_voc_voc_inner_day_call_cnt()|0.28|
|initiative_voc_inner_day_call_cnt_min|一天中主动通话记录条数最小数|initiative_voc_voc_inner_day_call_cnt()|0.19|
|initiative_voc_inner_day_call_cnt_median|一天中主动通话记录条数中位数|initiative_voc_voc_inner_day_call_cnt()|0.28|
|initiative_voc_inner_day_call_cnt_mean|一天中主动通话记录条数平均数|initiative_voc_voc_inner_day_call_cnt()|0.29|
|passive_voc_inner_day_call_cnt_max|一天中被动通话记录条数最大数|passive_voc_voc_inner_day_call_cnt()|-0.15|
|passive_voc_inner_day_call_cnt_min|一天中被动通话记录条数最小数|passive_voc_voc_inner_day_call_cnt()|-0.06|
|passive_voc_inner_day_call_cnt_median|一天中被动通话记录条数中位数|passive_voc_voc_inner_day_call_cnt()|-0.10|
|passive_voc_inner_day_call_cnt_mean|一天中被动通话记录条数平均数|passive_voc_voc_inner_day_call_cnt()|-0.11|
|turn_voc_inner_day_call_cnt_max|一天中呼转通话记录条数最大数|turn_voc_voc_inner_day_call_cnt()|-0.01|
|turn_voc_inner_day_call_cnt_min|一天中呼转通话记录条数最小数|turn_voc_voc_inner_day_call_cnt()|-0.02|
|turn_voc_inner_day_call_cnt_median|一天中呼转通话记录条数中位数|turn_voc_voc_inner_day_call_cnt()|-0.01|
|turn_voc_inner_day_call_cnt_mean|一天中呼转通话记录条数平均数|turn_voc_voc_inner_day_call_cnt()|-0.01|
|voc_call_cnt|用户总通话记录数|voc_call_cnt()|0.04|
|initiative_voc_call_cnt|用户总主动通话记录数|initiative_voc_call_cnt()|0.12|
|passive_voc_call_cnt|用户总被动通话记录数|passive_voc_call_cnt()|-0.17|
|turn_voc_call_cnt|用户总呼转通话记录数|turn_voc_call_cnt()|-0.01|
|initiative_voc_ratio|用户总主动通话记录占比|initiative_voc_ratio()|-0.18|
|passive_voc_ratio|用户总被动通话记录占比|passive_voc_ratio()|-0.49|
|turn_voc_ratio|用户总呼转通话记录占比|turn_voc_ratio()|-0.01|
|sms_cnt|短信记录条数|sms_cnt()|0.04|
|initiative_sms_cnt|主动发送短信记录条数|initiative_sms_cnt()|0.05|
|passive_sms_cnt|被动接收短信记录条数|passive_sms_cnt()|-0.12|
|initiative_sms_ratio|主动发送短信记录占比|initiative_sms_ratio()|0.04|
|passive_sms_ratio|被动接收短信记录占比|passive_sms_ratio()|0.04|
|app_cnt|APP数量|app_cnt()|-0.29|
|flow|用户消费流量数|app_cnt()|-0.14|
|voc_city_cnt|通话记录中出现的城市数量|voc_city_cnt()|-0.42|
|initiative_voc_city_cnt|主动拨打电话记录中出现的城市数量|initiative_voc_city_cnt()|-0.43|
|passive_voc_city_cnt|被动接听电话记录中出现的城市数量|passive_voc_city_cnt()|-0.38|
|turn_voc_city_cnt|呼转电话记录中出现的城市数量|turn_voc_city_cnt()|-0.02|
|voc_interval_min|用户电话记录之间的通话间隔最小数|voc_interval()|-0.07|
|voc_interval_max|用户电话记录之间的通话间隔最大数|voc_interval()|-0.58|
|voc_interval_mean|用户电话记录之间的通话间隔平均数|voc_interval()|-0.56|
|voc_interval_median|用户电话记录之间的通话间隔中位数|voc_interval()|-0.36|
|voc_interval_std|用户电话记录之间的通话间隔方差|voc_interval()|-0.615|
|initiative_voc_interval_min|用户主动拨打电话记录之间的通话间隔最小数|initiative_voc_interval()|-0.10|
|initiative_voc_interval_max|用户主动拨打电话记录之间的通话间隔最大数|initiative_voc_interval()|-0.49|
|initiative_voc_interval_mean|用户主动拨打电话记录之间的通话间隔平均数|initiative_voc_interval()|-0.55|
|initiative_voc_interval_median|用户主动拨打电话记录之间的通话间隔中位数|initiative_voc_interval()|-0.39|
|initiative_voc_interval_std|用户主动拨打电话记录之间的通话间隔方差|initiative_voc_interval()|-0.56|
|passive_voc_interval_min|用户被动接听电话记录之间的通话间隔最小数|passive_voc_interval()|-0.04|
|passive_voc_interval_max|用户被动接听电话记录之间的通话间隔最大数|passive_voc_interval()|-0.47|
|passive_voc_interval_mean|用户被动接听电话记录之间的通话间隔平均数|passive_voc_interval()|-0.42|
|passive_voc_interval_median|用户被动接听电话记录之间的通话间隔中位数|passive_voc_interval()|-0.31|
|passive_voc_interval_std|用户被动接听电话记录之间的通话间隔方差|passive_voc_interval()|-0.44|
|turn_voc_interval_min|用户呼转电话记录之间的通话间隔最小数|turn_voc_interval()|-0.02|
|turn_voc_interval_max|用户呼转电话记录之间的通话间隔最大数|turn_voc_interval()|-0.01|
|turn_voc_interval_mean|用户呼转电话记录之间的通话间隔平均数|turn_voc_interval()|-0.02|
|turn_voc_interval_median|用户呼转电话记录之间的通话间隔中位数|turn_voc_interval()|-0.02|
|turn_voc_interval_std|用户呼转电话记录之间的通话间隔方差|turn_voc_interval()|-0.01|
|voc_imei_cnt|通话记录中出现的imei个数|voc_imei_cnt()|0.04|
|initiative_voc_imei_cnt|主动拨打电话记录中出现的imei个数|initiative_voc_imei_cnt()|0.04|
|passive_voc_imei_cnt|主动拨打电话记录中出现的imei个数|passive_voc_imei_cnt()|-0.31|
|turn_voc_imei_cnt|呼转电话记录中出现的imei个数|turn_voc_imei_cnt()|-0.01|
|voc_dur|通话记录总时长|voc_call_dur()|-0.01|
|initiative_voc_dur|主动拨打电话记录总时长|initiative_voc_call_dur()|0.10|
|passive_voc_dur|被动接听电话记录总时长|passive_voc_call_dur()|-0.16|
|turn_voc_dur|呼转电话记录总时长|passive_voc_call_dur()|-0.01|
|initiative_voc_dur_ratio|主动拨打电话总时长占通话记录总时长占比|initiative_voc_dur_ratio()|-0.16|
|passive_voc_dur_ratio|被动接听电话总时长占通话记录总时长占比|passive_voc_dur_ratio()|-0.47|
|turn_voc_dur|呼转电话总时长占通话记录总时长占比|turn_voc_dur()|-0.01|
|voc_active_days|通话记录的活跃天数|voc_active_days()|-0.53|
|initiative_voc_active_days|主动拨打电话记录的活跃天数|initiative_voc_active_days()|-0.43|
|passive_voc_active_days|被动接听电话记录的活跃天数|passive_voc_active_days()|-0.42|
|turn_voc_active_days|呼转电话记录的活跃天数|turn_voc_active_days()|-0.01|
|sms_active_days|短信的活跃天数|sms_active_days()|-0.64|
|initiative_sms_active_days|主动发送短信的活跃天数|initiative_sms_active_days()|-0.01|
|passive_sms_active_days|被动接收短信的活跃天数|passive_sms_active_days()|-0.64|
|voc_user_contact_days_min|通话记录中与同一用户通讯的持续天数最小数|voc_user_contact_days()|-0.17|
|voc_user_contact_days_max|通话记录中与同一用户通讯的持续天数最大数|voc_user_contact_days()|-0.62|
|voc_user_contact_days_median|通话记录中与同一用户通讯的持续天数中位数|voc_user_contact_days()|-0.27|
|voc_user_contact_days_mean|通话记录中与同一用户通讯的持续天数平均数|voc_user_contact_days()|-0.56|
|initiative_voc_user_contact_days_min|主动拨打电话记录中与同一用户通讯的持续天数最小数|initiative_voc_user_contact_days()|-0.16|
|initiative_voc_user_contact_days_max|主动拨打电话记录中与同一用户通讯的持续天数最大数|initiative_voc_user_contact_days()|-0.53|
|initiative_voc_user_contact_days_median|主动拨打电话记录中与同一用户通讯的持续天数中位数|initiative_voc_user_contact_days()|-0.27|
|initiative_voc_user_contact_days_mean|主动拨打电话记录中与同一用户通讯的持续天数平均数|initiative_voc_user_contact_days()|-0.50|
|passive_voc_user_contact_days_min|被动接听电话记录中与同一用户通讯的持续天数最小数|passive_voc_user_contact_days()|-0.18|
|passive_voc_user_contact_days_max|被动接听电话记录中与同一用户通讯的持续天数最大数|passive_voc_user_contact_days()|-0.48|
|passive_voc_user_contact_days_median|被动接听电话记录中与同一用户通讯的持续天数中位数|passive_voc_user_contact_days()|-0.22|
|passive_voc_user_contact_days_mean|被动接听电话记录中与同一用户通讯的持续天数平均数|passive_voc_user_contact_days()|-0.43|
|turn_voc_user_contact_days_min|呼转电话记录中与同一用户通讯的持续天数最小数|turn_voc_user_contact_days()|-0.02|
|turn_voc_user_contact_days_max|呼转电话记录中与同一用户通讯的持续天数最大数|turn_voc_user_contact_days()|-0.02|
|turn_voc_user_contact_days_median|呼转电话记录中与同一用户通讯的持续天数中位数|turn_voc_user_contact_days()|-0.02|
|turn_voc_user_contact_days_mean|呼转电话记录中与同一用户通讯的持续天数平均数|turn_voc_user_contact_days()|-0.02|
|call_activate_days_diff|用户主动拨打电话的活跃天数和被动接听电话的活跃天数差值|call_activate_days_diff()|0.02|
|sms_activate_days_diff|用户主动发送短信的活跃天数和被动接听电话的活跃天数差值|sms_activate_days_diff()|0.66|
|voc_inner_hour_cnt_min|用户一小时内的通话数量最小数|voc_inner_hour_cnt()|-0.16|
|voc_inner_hour_cnt_max|用户一小时内的通话数量最大数|voc_inner_hour_cnt()|0.18|
|voc_inner_hour_cnt_median|用户一小时内的通话数量中位数|voc_inner_hour_cnt()|0.25|
|voc_inner_hour_cnt_mean|用户一小时内的通话数量平均数|voc_inner_hour_cnt()|0.24|
|initiative_voc_inner_hour_cnt_min|用户一小时内的主动拨打电话数量最小数|initiative_voc_inner_hour_cnt()|-0.15|
|initiative_voc_inner_hour_cnt_max|用户一小时内的主动拨打电话数量最大数|initiative_voc_inner_hour_cnt()|0.24|
|initiative_voc_inner_hour_cnt_median|用户一小时内的主动拨打电话数量中位数|initiative_voc_inner_hour_cnt()|0.26|
|initiative_voc_inner_hour_cnt_mean|用户一小时内的主动拨打电话数量平均数|initiative_voc_inner_hour_cnt()|0.26|
|passive_voc_inner_hour_cnt_min|用户一小时内的被动接听电话数量最小数|passive_voc_inner_hour_cnt()|-0.40|
|passive_voc_inner_hour_cnt_max|用户一小时内的被动接听电话数量最大数|passive_voc_inner_hour_cnt()|-0.22|
|passive_voc_inner_hour_cnt_median|用户一小时内的被动接听电话数量中位数|passive_voc_inner_hour_cnt()|-0.27|
|passive_voc_inner_hour_cnt_mean|用户一小时内的被动接听电话数量平均数|passive_voc_inner_hour_cnt()|-0.28|
|turn_voc_inner_hour_cnt_min|用户一小时内的呼转电话数量最小数|turn_voc_inner_hour_cnt()|-0.02|
|turn_voc_inner_hour_cnt_max|用户一小时内的呼转电话数量最大数|turn_voc_inner_hour_cnt()|-0.01|
|turn_voc_inner_hour_cnt_median|用户一小时内的呼转电话数量中位数|turn_voc_inner_hour_cnt()|-0.02|
|turn_voc_inner_hour_cnt_mean|用户一小时内的呼转电话数量平均数|turn_voc_inner_hour_cnt()|-0.01|
|sms_inner_hour_cnt_min|用户一小时内的短信数量最小数|sms_inner_hour_cnt()|-0.14|
|sms_inner_hour_cnt_max|用户一小时内的短信数量最大数|sms_inner_hour_cnt()|0.06|
|sms_inner_hour_cnt_median|用户一小时内的短信数量中位数|sms_inner_hour_cnt()|0.03|
|sms_inner_hour_cnt_mean|用户一小时内的短信数量平均数|sms_inner_hour_cnt()|0.05|
|initiative_sms_inner_hour_cnt_min|用户一小时内的主动发送短信数量最小数|initiative_sms_inner_hour_cnt()|0.03|
|initiative_sms_inner_hour_cnt_max|用户一小时内的主动发送短信数量最大数|initiative_sms_inner_hour_cnt()|0.06|
|initiative_sms_inner_hour_cnt_median|用户一小时内的主动发送短信数量中位数|initiative_sms_inner_hour_cnt()|0.04|
|initiative_sms_inner_hour_cnt_mean|用户一小时内的主动发送短信数量平均数|initiative_sms_inner_hour_cnt()|0.05|
|passive_sms_inner_hour_cnt_min|用户一小时内的被动接收短信数量最小数|passive_sms_inner_hour_cnt()|-0.19|
|passive_sms_inner_hour_cnt_max|用户一小时内的被动接收短信数量最大数|passive_sms_inner_hour_cnt()|0.04|
|passive_sms_inner_hour_cnt_median|用户一小时内的被动接收短信数量中位数|passive_sms_inner_hour_cnt()|-0.01|
|passive_sms_inner_hour_cnt_mean|用户一小时内的被动接收短信数量平均数|passive_sms_inner_hour_cnt()|0.03|
|voc_inner_day_dur_min|用户一天内的通话时长最小数|voc_inner_day_dur()|0.19|
|voc_inner_day_dur_max|用户一天内的通话时长最大数|voc_inner_day_dur()|0.16|
|voc_inner_day_dur_median|用户一天内的通话时长中位数|voc_inner_day_dur()|0.27|
|voc_inner_day_dur_mean|用户一天内的通话时长平均数|voc_inner_day_dur()|0.27|
|initiative_voc_inner_day_dur_min|用户一天内的主动拨打电话时长最小数|initiative_voc_inner_day_dur()|0.20|
|initiative_voc_inner_day_dur_max|用户一天内的主动拨打电话时长最大数|initiative_voc_inner_day_dur()|0.23|
|initiative_voc_inner_day_dur_median|用户一天内的主动拨打电话时长中位数|initiative_voc_inner_day_dur()|0.30|
|initiative_voc_inner_day_dur_mean|用户一天内的主动拨打电话时长平均数|initiative_voc_inner_day_dur()|0.30|
|passive_voc_inner_day_dur_min|用户一天内的被动接听电话时长最小数|passive_voc_inner_day_dur()|0.06|
|passive_voc_inner_day_dur_max|用户一天内的被动接听电话时长最大数|passive_voc_inner_day_dur()|-0.18|
|passive_voc_inner_day_dur_median|用户一天内的被动接听电话时长中位数|passive_voc_inner_day_dur()|-0.05|
|passive_voc_inner_day_dur_mean|用户一天内的被动接听电话时长平均数|passive_voc_inner_day_dur()|-0.10|
|interactive_voc_user_cnt|通话记录中有交互的用户数|interactive_voc_user_cnt()|-0.17|
|interactive_sms_user_cnt|短信记录中有交互的用户数|interactive_sms_user_cnt()|0.02|
|interactive_voc_user_ratio|通话记录中有交互的用户占比|interactive_voc_user_ratio()|-0.43|
|interactive_sms_user_ratio|短信记录中有交互的用户占比|interactive_sms_user_ratio()|0.07|
|night_voc_ratio_too_high|晚上11点到早上6之间的通话占比高于百分之60|night_voc_ratio_too_high()|0.04|
|has_we_chat|是否安装微信|has_we_chat()|-0.39|
|has_no_imei|无imei|imei_cnt_about()|0.57|
|too_many_imei|imei大于等于2个|imei_cnt_about()|0.22|
|except_imei|imei不等于1个|imei_cnt_about()|0.63|
|one_day_user_cnt|主动通话记录中，最大持续通话天数为1天的用户数目|frequency_initiative_voc()|0.20|
|one_day_ratio|主动通话记录中，最大持续通话天数为1天的用户占比|frequency_initiative_voc()|-0.18|
|frequency_initiative_voc|主动通话记录中，最大持续通话天数为1天的用户占比大于等于0.87|frequency_initiative_voc()|0.22|
|20200812加工||||
|has_app|用户是否安装APP|has_app()|-0.50|
|last_call_is_before_24|最后一次通话时间在24号之前|last_call_is_before_24()|0.66|
|has_too_many_id_card|身份证下手机号过多|has_too_many_id_card()|0.35|
|passive_voc_avg_dur_too_low|被呼平均通话时长过短|passive_voc_avg_dur_too_low()|0.44|
|has_county|通话记录中是否包含区域|has_county()|0.65|
|initiative_voc_has_too_many_phone|主呼中联系人数过多|initiative_voc_has_too_many_phone()|0.28|
